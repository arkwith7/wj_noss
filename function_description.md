# NOSS 기반 교육과정 계획서 자동 생성 시스템 기능 명세

## 시스템 기능 분석 결과

| 구분     | 기능명                                   | 기능 요약                                                                                                | 코드명                                     | 주요 처리 내역 (예상)                                                                                                                                                                                                                                                                                                                                                                                       | API 엔드포인트                                                                 | Request Format ( 주요 필드 )                                                                                                                                                                               | Response Format ( 주요 필드 )                                                                                                                                                                                                                             |
| :------- | :--------------------------------------- | :------------------------------------------------------------------------------------------------------- | :----------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **사용자 기능** |                                          |                                                                                                          |                                            |                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                |                                                                                                                                                                                                          |                                                                                                                                                                                                                                                           |
|          | 시작 페이지                              | 시스템 소개 및 기본 안내 페이지                                                                                  | `Landing.vue`                              | **입력 인자**: 없음<br>**핵심 처리 절차**: 시스템의 주요 기능, 가치 등을 소개하는 정적 콘텐츠 표시<br>**출력 내용**: 서비스 소개 화면                                                                                                                                                                                                                                                                 | 해당 없음 (프론트엔드 전용)                                                        | N/A                                                                                                                                                                                                      | N/A                                                                                                                                                                                                                                                         |
|          | 사용자 회원가입                          | 시스템 사용을 위한 사용자 계정 생성                                                                                | `Register.vue`                             | **입력 인자**: 사용자 아이디, 비밀번호, 이메일 등 개인 정보<br>**핵심 처리 절차**: 입력 정보 유효성 검사, 중복 계정 확인, 서버로 회원가입 요청 전송, 결과에 따른 피드백 표시<br>**출력 내용**: 회원가입 성공/실패 메시지, 로그인 페이지로 이동 유도                                                                                                                                                                 | `POST /auth/register`                                                          | `schemas.UserCreate` (`username`, `email`, `full_name`, `password`, `role`)                                                                                                                                | `schemas.User` (`id`, `username`, `email`, `full_name`, `role`, `is_active`, `created_at`, `updated_at`)                                                                                                                                                        |
|          | 사용자 로그인                            | 시스템 접근을 위한 사용자 인증                                                                                   | `Login.vue`                                | **입력 인자**: 사용자 아이디, 비밀번호<br>**핵심 처리 절차**: 입력 정보 유효성 검사, 서버로 로그인 요청 전송, JWT 토큰 수신 및 저장, 로그인 상태 관리<br>**출력 내용**: 로그인 성공 시 홈 대시보드로 이동, 실패 시 오류 메시지 표시                                                                                                                                                               | `POST /auth/login` (Form) 또는 `POST /auth/login/json` (JSON)                    | `OAuth2PasswordRequestForm` (`username`, `password`) 또는 `schemas.LoginRequest` (`username`, `password`)                                                                                                    | `schemas.Token` (`access_token`, `token_type`, `expires_in`, `user: schemas.User`)                                                                                                                                                                              |
|          | 홈 대시보드                              | 로그인 후 메인 화면. 통합 검색, 주요 기능 접근, 파일 업로드, 실시간 처리 상태 확인                                  | `Home.vue`                                 | **입력 인자**: (검색 시) 검색어, (파일 업로드 시) 파일<br>**핵심 처리 절차**: 시스템 상태 요약 정보 표시, 최근 활동 표시, 통합 문서 검색 실행, 파일 업로드 처리 (드래그앤드롭/선택), WebSocket을 통한 실시간 상태 업데이트 수신 및 표시<br>**출력 내용**: 대시보드 UI, 검색 결과, 파일 업로드 진행 상태, 실시간 알림                                                                                                          | `GET /dashboard/overview`, `GET /dashboard/recent-activity`, `POST /documents/upload` 등 다수 API 조합 | (다양함, 각 API 참조)                                                                                                                                                                                    | (다양함, 각 API 참조)                                                                                                                                                                                                                                               |
|          | 일반 대시보드 (추가 기능)                 | 홈 대시보드 외 추가적인 정보 또는 기능 제공 가능성 (README에 명시적 설명 없음)                                                | `Dashboard.vue`                            | **입력 인자**: 사용자별 설정 또는 데이터<br>**핵심 처리 절차**: 사용자 맞춤형 정보 시각화, 주요 지표 표시, 특정 기능으로의 바로가기 제공<br>**출력 내용**: 차트, 요약 정보, 알림 등 개인화된 대시보드 화면                                                                                                                                                                                               | `GET /dashboard/overview` (일부) 및 기타 데이터 API (확인 필요)                               | (해당 API 참조)                                                                                                                                                                                          | (해당 API 참조)                                                                                                                                                                                                                                               |
|          | AI 기반 채팅/질의응답                    | AI 엔진(RAG, Azure OpenAI)을 활용한 문서 내용 기반 질의응답 또는 대화형 정보 획득                                   | `Chat.vue`                                 | **입력 인자**: 사용자 질문/메시지<br>**핵심 처리 절차**: 사용자 입력 처리, AI 엔진에 질문 전송, 답변 수신, 대화 내용 화면에 표시<br>**출력 내용**: AI가 생성한 답변, 대화 기록                                                                                                                                                                                                                           | `GET /chat/sessions/{session_id}/messages`, `POST /chat/messages`, `POST /chat/sessions` | `schemas.ChatMessageCreate` (`session_id`, `role`, `content`), `schemas.ChatSessionCreate` (`title`, `model_name`)                                                                                         | `List[schemas.ChatMessage]`, `schemas.ChatMessage`, `schemas.ChatSession` (각각 `id`, `session_id`, `role`, `content`, `created_at` 등 포함)                                                                                                                |
|          | 교육과정 계획서 생성                     | NOSS 문서, Excel 데이터, Word 템플릿을 선택하여 LPP/LPT 교육과정 계획서 자동 생성                                      | `TemplateGeneration.vue`                   | **입력 인자**: NOSS PDF, Excel 데이터, Word 템플릿 파일 선택<br>**핵심 처리 절차**: 선택된 파일 정보 서버로 전송, 생성 옵션 설정, AI 기반 문서 생성 요청, 생성 진행 상태 모니터링, 생성 완료된 문서 정보 수신<br>**출력 내용**: 생성된 교육과정 계획서 (LPP/LPT) 다운로드 링크 또는 미리보기, 생성 상태 메시지                                                                                                           | API 엔드포인트 미확인 (비동기 처리 또는 WebSocket 사용 가능성 높음. 관련 스키마: `TemplateGenerationCreate`) | `schemas.TemplateGenerationCreate` (`title`, `template_id`, `document_ids`, `parameters`) (예상)                                                                                                             | `schemas.TemplateGeneration` (`id`, `user_id`, `status`, `result_content`, `created_at` 등) (예상)                                                                                                                                                               |
|          | 생성/작업 이력 조회                      | 사용자가 수행한 작업(문서 업로드, 계획서 생성 등)의 이력 확인                                                              | `History.vue`                              | **입력 인자**: (필터링/검색 시) 기간, 상태, 키워드 등<br>**핵심 처리 절차**: 서버로부터 사용자 작업 이력 데이터 요청 및 수신, 이력 목록 표시, 상세 보기 기능 제공<br>**출력 내용**: 작업 이력 목록 (작업 유형, 날짜, 상태 등), 상세 정보                                                                                                                                                                                | `GET /dashboard/recent-activity`                                               | Query: `limit`                                                                                                                                                                                           | `{"activities": List[schemas.ActivityLog]}` (`id`, `user_id`, `activity_type`, `description`, `metadata`, `created_at`)                                                                                                                                   |
|          | 사용자 프로필 관리                       | 사용자 개인 정보 확인 및 수정                                                                                    | `Profile.vue`                              | **입력 인자**: (수정 시) 변경할 프로필 정보 (예: 비밀번호, 이메일)<br>**핵심 처리 절차**: 현재 프로필 정보 표시, 사용자 입력에 따른 정보 수정 요청 처리, 서버와 통신하여 정보 업데이트<br>**출력 내용**: 업데이트된 프로필 정보, 성공/실패 메시지                                                                                                                                                                        | `GET /auth/me`, `PUT /auth/me`                                                   | `schemas.UserUpdate` (`username`, `email`, `full_name`, `role`, `is_active`)                                                                                                                               | `schemas.User`                                                                                                                                                                                                                                                         |
| **관리자 기능** |                                          |                                                                                                          |                                            |                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                |                                                                                                                                                                                                          |                                                                                                                                                                                                                                                           |
|          | 관리자 대시보드                          | 시스템 전반적인 현황, 사용자 활동, 문서 통계 등 관리자용 핵심 정보 제공                                                 | `AdminDashboard.vue`                       | **입력 인자**: 없음 (또는 기간 설정 등의 필터)<br>**핵심 처리 절차**: 서버로부터 시스템 통계 데이터 (사용자 수, 문서 수, AI 처리 현황 등) 요청 및 수신, 차트 및 요약 정보 형태로 시각화<br>**출력 내용**: 관리자용 통계 대시보드 화면                                                                                                                                                                                          | `GET /dashboard/overview` (admin), `GET /dashboard/system-health`, `GET /users/stats/overview`, `GET /documents/stats/overview`, `GET /templates/stats/overview`, `GET /chat/stats/overview`, `GET /token-usage/stats/overview` | 없음                                                                                                                                                                                                     | (각 API 응답 조합, 예: `total_users`, `database_status`, `total_documents` 등)                                                                                                                                                                           |
|          | 사용자 관리                              | 시스템 사용자 계정 목록 조회, 상태 변경, 권한 관리 등                                                                   | `UserManagement.vue`                       | **입력 인자**: (검색/필터링 시) 사용자 ID, 이름, 상태 등, (수정 시) 변경할 사용자 정보<br>**핵심 처리 절차**: 사용자 목록 조회, 신규 사용자 등록(필요시), 사용자 정보 수정, 계정 활성화/비활성화, 권한 변경 등의 관리 작업 수행<br>**출력 내용**: 사용자 목록, 사용자 상세 정보, 작업 결과 메시지                                                                                                                                        | `GET /users/`, `POST /users/`, `GET /users/{user_id}`, `PUT /users/{user_id}`, `DELETE /users/{user_id}`, `PUT /users/{user_id}/activate` | Query (`page`, `per_page`, `search` 등), `schemas.UserCreate`, `schemas.UserUpdate`                                                                                                                           | `schemas.PaginatedResponse` (`items: List[schemas.User]`), `schemas.User`, `{"message": str}`                                                                                                                                                              |
|          | 문서 관리                                | 시스템에 등록된 모든 문서(NOSS PDF, Excel, Word 템플릿, 생성된 계획서) 관리. 업로드, 삭제, 메타데이터 편집 등                | `DocumentManagement.vue`                   | **입력 인자**: (검색/필터링 시) 문서명, 유형, 등록일 등, (업로드 시) 파일, (수정 시) 변경할 메타데이터<br>**핵심 처리 절차**: 문서 목록 조회, 문서 업로드 처리, 문서 정보(메타데이터) 수정, 문서 삭제, 문서 상태 관리<br>**출력 내용**: 문서 목록, 문서 상세 정보, 작업 결과 메시지                                                                                                                                                    | `GET /documents/`, `POST /documents/upload`, `GET /documents/{document_id}`, `PUT /documents/{document_id}`, `DELETE /documents/{document_id}`, `POST /documents/bulk-delete` | Query (`page`, `per_page`, `search` 등), Form (`file`, `title` 등), `schemas.DocumentUpdate`, Body (`document_ids: List[int]`)                                                                           | `schemas.PaginatedResponse` (`items: List[schemas.Document]`), `schemas.Document`, `{"message": str}`                                                                                                                                                           |
|          | Word 템플릿 관리                         | 교육과정 계획서 생성에 사용될 Word(.docx) 템플릿 등록, 수정, 삭제, 버전 관리                                          | `TemplateManagement.vue`                   | **입력 인자**: (업로드 시) Word 템플릿 파일, (수정 시) 변경할 템플릿 정보 또는 파일<br>**핵심 처리 절차**: 템플릿 목록 조회, 신규 템플릿 업로드, 기존 템플릿 수정/교체, 템플릿 삭제, 템플릿 버전 관리(필요시)<br>**출력 내용**: 템플릿 목록, 템플릿 상세 정보, 작업 결과 메시지                                                                                                                                                            | `GET /templates/`, `POST /templates/`, `GET /templates/{template_id}`, `PUT /templates/{template_id}`, `DELETE /templates/{template_id}`, `POST /templates/{template_id}/activate`, `POST /templates/bulk-delete` | Query (`page`, `per_page`, `search` 등), `schemas.TemplateCreate`, `schemas.TemplateUpdate`, Body (`template_ids: List[int]`)                                                                           | `schemas.PaginatedResponse` (`items: List[schemas.Template]`), `schemas.Template`, `{"message": str}`                                                                                                                                                           |
|          | 메타데이터 관리 (문서/벡터 스토어)       | 문서에서 추출된 정보, 벡터 스토어의 메타데이터 관리. 검색 정확도 및 AI 처리 효율성 향상 목적                               | `MetadataManagement.vue`                 | **입력 인자**: (검색/필터링 시) 문서 ID, 키워드 등, (수정 시) 변경할 메타데이터 정보<br>**핵심 처리 절차**: 벡터 스토어 또는 문서 데이터베이스의 메타데이터 조회, 메타데이터 편집/수정, 인덱싱 상태 관리, 관련 통계 조회<br>**출력 내용**: 메타데이터 목록, 편집 인터페이스, 작업 결과 메시지                                                                                                                                                   | (구체적인 API 미확인, `documents.py` 또는 별도 API 가능성)                               | (확인 필요)                                                                                                                                                                                                | (확인 필요)                                                                                                                                                                                                                                                         |
|          | AI 채팅/질의응답 이력 관리               | 사용자 또는 시스템 내부 AI 채팅/질의응답 로그 및 이력 관리. 분석, 모니터링, 문제 해결 목적                                  | `ChatHistoryManagement.vue`              | **입력 인자**: (검색/필터링 시) 사용자 ID, 기간, 키워드 등<br>**핵심 처리 절차**: AI 상호작용 이력 조회, 대화 내용 검토, 특정 이력 검색, 통계 분석(질문 유형, 답변 만족도 등)<br>**출력 내용**: 채팅/질의응답 이력 목록, 상세 대화 내용, 분석 결과                                                                                                                                                                   | `GET /chat/sessions`, `GET /chat/sessions/{session_id}/messages`                 | Query (`page`, `per_page`, `search`, `model_name`, `is_active` 등)                                                                                                                                         | `schemas.PaginatedResponse` (`items: List[schemas.ChatSession]`), `List[schemas.ChatMessage]`                                                                                                                                                                   |
|          | AI 토큰 사용량 관리 (Azure OpenAI 등)    | AI 서비스(Azure OpenAI 등)의 API 호출 및 토큰 사용량 모니터링, 관리                                                | `TokenUsageManagement.vue`               | **입력 인자**: (조회 시) 기간, 사용자/기능별 필터 등<br>**핵심 처리 절차**: AI 서비스 제공자로부터 토큰 사용량 데이터 수집/조회, 사용자별/기능별 사용량 분석, 임계치 설정 및 알림(필요시), 비용 최적화를 위한 분석 정보 제공<br>**출력 내용**: 토큰 사용량 통계, 그래프, 보고서                                                                                                                                                              | `GET /token-usage/`, `POST /token-usage/`, `GET /token-usage/stats/overview`, `GET /token-usage/stats/users` | Query (`page`, `per_page`, `user_id`, `model_name`, `start_date`, `end_date`, `days`), `schemas.TokenUsageCreate`                                                                                             | `schemas.PaginatedResponse` (`items: List[schemas.TokenUsage]`), `schemas.TokenUsage`, 통계 응답 (JSON)                                                                                                                                                        |

## 참고 사항

*   위 표의 "주요 처리 내역"은 README.md의 기능 설명과 일반적인 웹 애플리케이션의 동작 방식을 기반으로 유추한 내용입니다. 실제 코드 구현과는 다소 차이가 있을 수 있습니다.
*   `components` 디렉토리 내의 재사용 가능한 UI 컴포넌트들은 각 화면(`views` 내부의 파일)에서 조합되어 사용될 것이므로, 이 표에서는 화면 단위의 주요 기능과 코드명을 중심으로 정리했습니다.
*   `Dashboard.vue`의 경우 README.md에 명시적인 설명이 없어 일반적인 대시보드 기능을 가정하여 작성했습니다.
*   "메타데이터 관리 (문서/벡터 스토어)" 기능에 대한 구체적인 API 엔드포인트는 현재 코드 분석만으로는 명확히 특정하기 어려워 "확인 필요"로 표시했습니다. `documents.py`의 `DocumentUpdate` 스키마에 `metadata` 필드가 있어 문서별 메타데이터 수정은 가능하지만, 전용 관리 API는 불분명합니다.
*   "교육과정 계획서 생성" 기능의 경우, `schemas.py`에 `TemplateGenerationCreate` 등 관련 스키마는 존재하나, 이를 직접 사용하는 명시적인 REST API 생성 엔드포인트는 현재 코드에서 확인되지 않았습니다. WebSocket을 통한 비동기 처리나 백그라운드 작업 후 상태 업데이트 방식일 가능성이 있습니다.

</rewritten_file> 